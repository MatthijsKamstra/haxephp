<?php

// Generated by Haxe 3.4.4
class Main {
	public function __construct() { if(!php_Boot::$skip_constructor) {
		$GLOBALS['%s']->push("Main::new");
		$__hx__spos = $GLOBALS['%s']->length;
		$html = "";
		$useMysql = true;
		$isDummyData = false;
		if(!$useMysql) {
			if(!file_exists("mybase.ddb")) {
				new DBStart($useMysql);
			}
		} else {
			new DBStart($useMysql);
		}
		$cnx = null;
		if(!$useMysql) {
			$cnx = sys_db_Sqlite::open("mybase.db");
		} else {
			$cnx = sys_db_Mysql::connect(_hx_anonymous(array("host" => "localhost", "port" => 3306, "database" => "MyDatabase", "user" => "root", "pass" => "", "socket" => null)));
		}
		sys_db_Manager::set_cnx($cnx);
		sys_db_Manager::initialize();
		$this->createList();
		sys_db_Manager::cleanup();
		$cnx->close();
		$GLOBALS['%s']->pop();
	}}
	public function createList() {
		$GLOBALS['%s']->push("Main::createList");
		$__hx__spos = $GLOBALS['%s']->length;
		$html = "";
		$html = _hx_string_or_null($html) . "<table style=\"width:100%\">";
		$html = _hx_string_or_null($html) . "<tr><th>id</th><th>name</th><th>birthday</th><th>phoneNumber</th></tr>";
		{
			$_g1 = 0;
			$_g = User::$manager->all(null)->length;
			while($_g1 < $_g) {
				$_g1 = $_g1 + 1;
				$i = $_g1 - 1;
				$_user = User::$manager->unsafeGet($i, true);
				if($_user === null) {
					continue;
				}
				$html = _hx_string_or_null($html) . "<tr>";
				$html = _hx_string_or_null($html) . _hx_string_or_null(("<td>" . _hx_string_rec($_user->id, "") . "</td>"));
				$html = _hx_string_or_null($html) . _hx_string_or_null(("<td>" . _hx_string_or_null($_user->name) . "</td>"));
				$html = _hx_string_or_null($html) . _hx_string_or_null(("<td>" . Std::string($_user->birthday) . "</td>"));
				$html = _hx_string_or_null($html) . _hx_string_or_null(("<td>" . _hx_string_or_null($_user->phoneNumber) . "</td>"));
				$html = _hx_string_or_null($html) . "</tr>";
				unset($i,$_user);
			}
		}
		$html = _hx_string_or_null($html) . "</table>";
		php_Lib::hprint($html);
		$GLOBALS['%s']->pop();
	}
	static function main() {
		$GLOBALS['%s']->push("Main::main");
		$__hx__spos = $GLOBALS['%s']->length;
		$main = new Main();
		$GLOBALS['%s']->pop();
	}
	function __toString() { return 'Main'; }
}
